<!doctype html><html><head><meta charset=UTF-8><title>core-input basic tests</title><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><script src=../../webcomponentsjs/webcomponents.js></script><script src=../../web-component-tester/browser.js></script><link href=../core-input.html rel=import></head><body><input id=input1 is=core-input pattern=[abc]* preventinvalidinput=""><script>

    var i1 = document.getElementById('input1');

    function dispatchInputEvent(target) {
      var e = new Event('input', {
        bubbles: true
      });
      target.dispatchEvent(e);
    };

    suite('preventInvalidInput', function() {

      test('cannot enter invalid input', function() {
        i1.value = '123';
        dispatchInputEvent(i1);
        assert.ok(!i1.value);
      });

      test('preserves valid input after entering invalid input', function() {
        var value = 'abc';
        i1.value = value;
        dispatchInputEvent(i1);
        assert.strictEqual(value, i1.value);
        i1.value = value + '123';
        dispatchInputEvent(i1);
        assert.strictEqual(value, i1.value);
      });

    });

  </script></body></html>